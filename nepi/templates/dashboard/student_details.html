{% extends 'base.html' %}

{% load progressreport %}

{% block content %}
    <ul class="breadcrumb">
      <li><a href="/dashboard/#user-groups">Dashboard</a> <span class="divider">/</span></li>
      <li><a href="/group_details/{{group.id}}/">{{group.name}}</a> <span class="divider">/</span></li>
      <li class="active">Student Detail</li>
    </ul>

    <h3>{{student.get_full_name}} Roster</h3>
    <dl class="dl-horizontal">
        <dt>School</dt><dd>{{group.school.name}}</dd>
        <dt>Country</dt><dd>{{group.school.country.display_name}}</dd>
    </dl>

    <h4>Progress Report</h4>
    <div class="row-fluid">
        <div class="span4">Pre-test score</div>
        <div class="span4">{{report.pretest}}</div>
    </div>
    {% for score in report.sessions %}
        <div class="row-fluid">
            <div class="span4">Session {{forloop.counter}} score</div>
            <div class="span4">
                {% if score == 0 %}
                    Incomplete
                {% else %}{% if not score %}
                    n/a
                {% else %}
                    {{score}}%
                {% endif %}{% endif %}
            </div>
        </div>
    {% endfor %}
    <div class="row-fluid">
        <div class="span4">Post-test score</div>
        <div class="span4">{{report.posttest}}</div>
    </div>
    <div class="row-fluid">
        <div class="span4">Average session score</div>
        <div class="span4">
            {% if report.average_score %}
                {{report.average_score}}%
            {% else %}
                ---
            {% endif %}
            </div>
    </div>
{% endblock %}