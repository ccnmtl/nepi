<div id="group_list">
<table width="100%" class="table table-striped table-condensed"> 
    <tr><th>
        <td><b>Group Name</b></td>
        <td><b>Start Date</b></td>
        <td><b>End Date</b></td>
        <td><b>Teacher</b></td>
        <td><b>Module</b></td>
    </th></tr>
{% for group in group_list %}
    <tr>
      <td>
                {{group.name}}
            </td>
            <td>
                {{group.start_date}}
            </td>
                        <td>
                {{group.end_date}}
            </td>
            <td>
                {{group.creator}}
            </td>
            <td>
                {{group.module}}
            </td>
            <td class="button" data-btn="{{group.pk}}">
                <button>Join Group</button>
            </td>
        </tr>
    {% empty %}
        <tr>
            <td>
                <p>There are no courses listed for this school.</p>
            </td>
        </tr>
    {% endfor %}
</table>

</div>

<script>
 
var button = jQuery(".button");
button.on("click",
    
    function() {

            var clicked_group = jQuery(this).data().btn;
            //alert(clicked_group);
            //function () {
         
             jQuery.ajax({
             url: "/join_group/",
             type: "POST",
             data: {'country': jQuery('#id_country').val(), 'school' : jQuery('#id_school').val(), 'group': clicked_group },
             success: function (data)
             {
                 alert("success");
             },
             error: function(data)
             {
                 alert("error at group");
             }
        }); //end of ajax
            
            
});// end of function after click


</script>

