{% load dosage_state %}
{% getdosageresponse block as dosager %}

<div class="dosage-activity">
    <div class="dosage-clipboard-popover fade left in" style="display: none">
        <div class="dosage-clipboard-content">
            <button type="button" class="close">&times;</button>
            <h4>NVP Dosage Chart</h4>
            
            <h5>Daily dosing for NVP for infants from birth-6 weeks</h5>
            
            <table>
            <tr><td>Birth weight 2000-2499 g </td><td> 1ml (10mg) once a day </td></tr>
            <tr><td>Birth weight â‰¥ 2500 g </td><td> 1.5 ml (15mg) once a day </td></tr>
            <tr><td>Infants < 2000 g 0.2 ml </td><td> (2mg)/kg once a day </td></tr>
            </table>
    
            <br />
            <h5> Daily dosing for NVP for infants > 6 weeks of age</h5>
            <div>
            Depending on country guidelines, there may
            be rare cases in which children over 6 weeks
            are given NVP as prophylaxis. In this case the
            dosages are:
            </div>
            
            <table>
            <tr><td>6 weeks to 6 months </td><td> 20mg (2ml) once a day</td></tr>
            <tr><td>Over 6 months to 9 months </td><td> 30mg (3ml) once a day</td></tr>
            <tr><td>Over 9 months until breastfeeding ends </td><td> 40mg (4ml) once a day</td></tr>
            </table>
        </div>
    </div>

    <div class="dosage-question">
        {{block.question|safe}}
    </div>
    <div class="control-group">
        <label class="control-label">How many ml of NVP?</label>
        <div class="controls">
            {% if dosager %}
                <div>
                    <input type="text" name="pageblock-{{block.pageblock.id}}-mlnvp" value="{{dosager.ml_nvp}}" readonly="readonly" /> <b>ml</b>
                    
                    {% ifequal dosager.ml_nvp block.ml_nvp %} 
                        <span class='alert alert-success'><b>Correct</b></span>
                    {% else %}
                        <span class='alert alert-error'><b>Incorrect</b></span>
                    {% endifequal %}
                </div>
            {% else %}
                <input type="text" name="pageblock-{{block.pageblock.id}}-mlnvp" value="" /> <b>ml</b>
            {% endif %}
        </div>
    </div>
    <div class="control-group">
        <label class="control-label">How many times each day?</label>
        <div class="controls">
            {% if dosager %}
                <div>
                    <input type="text" id="times_day_input" name="pageblock-{{block.pageblock.id}}-times_day" value="{{dosager.times_day}}" readonly="readonly"> <b>x per day</b>
                   
                    {% ifequal dosager.times_day block.times_day %} 
                        <span class='alert alert-success'><b>Correct</b></span>
                    {% else %}
                        <span class='alert alert-error'><b>Incorrect</b></span>
                    {% endifequal %}
                </div>
            {% else %}
                <input type="text" id="times_day_input" name="pageblock-{{block.pageblock.id}}-times_day" value=""> <b>x per day</b> 
            {% endif %}
        </div>
    </div>
    <div class="control-group">
        <label class="control-label">For how many weeks?</label>
        <div class="controls">
            {% if dosager %}
                <div>
                    <input type="text" id="week_input" name="pageblock-{{block.pageblock.id}}-weeks" value="{{dosager.weeks}}" readonly="readonly"> <b>weeks</b>
                    {% ifequal dosager.weeks block.weeks %} 
                        <span class='alert alert-success'><b>Correct</b></span>
                    {% else %}
                        <span class='alert alert-error'><b>Incorrect</b></span>
                    {% endifequal %}
                </div>            
            {% else %}
                <input type="text" id="week_input" name="pageblock-{{block.pageblock.id}}-weeks" value=""> <b>weeks</b>
            {% endif %}            
        </div>
    </div>

    {% if dosager %}
         <div class="explanation">{{block.explanation}}</div>
    {% endif %}

</div>
